# Opiom Wars Random Eventss
namespace = opium_wars_moh

opium_wars_moh.1 = {
	# 粤海关亏空案
	type = country_event
	placement = root
	title = opium_wars_moh.1.t
	desc = opium_wars_moh.1.d
	flavor = opium_wars_moh.1.f
	duration = 3
	cooldown = { years = 50 }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	event_image = {
		video = "europenorthamerica_opium_smoker"
	}
	trigger = {
		c:CHI ?= this
		has_journal_entry = je_daoguang_reform_opium
		NOT = {
			has_variable = lost_opium_wars
		}
		any_country = {
			has_variable = opium_wars_aggressor
		}
	}
	immediate = {
		random_country = {
			limit = {
				has_variable = opium_wars_aggressor
			}
			save_scope_as = smuggler_country
		}
	}
	option = {
		name = opium_wars_moh.1.a # 追究责任
		add_yen_chin_10= yes
		add_loyalists = {
			value = small_radicals
		}
	}
	option = {
		name = opium_wars_moh.1.b # 以补税平账，息事宁人
		add_shih_chin_10= yes
		add_modifier = {
			name = modifier_yue_customs_taxes_addition
			months = 6
			multiplier = 2
		}
	}
	option = {
		name = opium_wars_moh.1.c # 置之不理
		default_option = yes
		add_modifier = {
			name = modifier_yue_customs_taxes_addition
			years = 5
		}
		add_radicals = {
			value = medium_radicals
		}
		change_relations = {
			country = scope:smuggler_country
			value = 5
		}
	}
}
opium_wars_moh.2 = {
	# 广东商行联名上书
	type = country_event
	placement = root
	title = opium_wars_moh.2.t
	desc = opium_wars_moh.2.d
	flavor = opium_wars_moh.2.f
	duration = 3
	cooldown = { years = 50 }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	event_image = {
		video = "asia_union_leader"
	}
	trigger = {
		c:CHI ?= this
		has_journal_entry = je_daoguang_reform_opium
		capital = {
			sg:opium = {
				OR = {
					import_tariff_level = high_tariffs
					import_tariff_level = max_tariffs
				}
			}
		}
		NOT = {
			has_variable = lost_opium_wars
		}
		any_country = {
			has_variable = opium_wars_aggressor
		}
	}
	immediate = {
		random_country = {
			limit = {
				has_variable = opium_wars_aggressor
			}
			save_scope_as = smuggler_country
		}
	}
	option = {
		name = opium_wars_moh.2.a # 批准部分口岸松禁
		add_shih_chin_5 = yes
		if = {
			limit ={
				capital = {
					sg:opium = {
						import_tariff_level = max_tariffs
					}
				}
			}
			set_import_tariff_level = {
				goods = g:opium
				level = high_tariffs
			}
		}
		else_if = {
			limit ={
				capital = {
					sg:opium = {
						import_tariff_level = high_tariffs
					}
				}
			}
			set_import_tariff_level = {
				goods = g:opium
				level = low_tariffs
			}
		}
	}
	option = {
		name = opium_wars_moh.2.b # 严辞回绝，拘办行商
		default_option = yes
		add_yen_chin_5 = yes
		add_radicals = {
			value = small_radicals
		}
	}
}